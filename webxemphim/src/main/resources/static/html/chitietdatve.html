<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi Tiết Vé - ChienCINEMA</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .header {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 30px;
        text-align: center;
        position: relative;
      }

      .back-btn {
        position: absolute;
        left: 30px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        padding: 10px 15px;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-50%) translateX(-5px);
      }

      .header h1 {
        font-size: 2rem;
        margin-bottom: 10px;
        font-weight: 600;
      }

      .booking-id {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .ticket-content {
        padding: 40px;
      }

      .movie-section {
        display: flex;
        gap: 30px;
        margin-bottom: 40px;
        padding-bottom: 30px;
        border-bottom: 2px dashed #e0e0e0;
      }

      .movie-poster {
        width: 200px;
        height: 280px;
        border-radius: 15px;
        object-fit: cover;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
      }

      .movie-poster:hover {
        transform: scale(1.05);
      }

      .movie-info {
        flex: 1;
      }

      .movie-title {
        font-size: 2.2rem;
        color: #1e3c72;
        margin-bottom: 15px;
        font-weight: 700;
      }

      .movie-genre {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        display: inline-block;
        font-size: 0.9rem;
        margin-bottom: 20px;
        font-weight: 500;
      }

      .movie-rating {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
      }

      .stars {
        color: #ffd700;
        font-size: 1.2rem;
      }

      .rating-text {
        color: #666;
        font-weight: 500;
      }

      .movie-description {
        color: #555;
        line-height: 1.6;
        font-size: 1rem;
      }

      .details-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .detail-card {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        border-left: 5px solid #667eea;
        transition: all 0.3s ease;
      }

      .detail-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .detail-title {
        color: #1e3c72;
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        padding: 8px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .detail-item:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }

      .detail-label {
        color: #666;
        font-weight: 500;
      }

      .detail-value {
        color: #1e3c72;
        font-weight: 600;
      }

      .seats-visual {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        text-align: center;
      }

      .screen {
        background: linear-gradient(45deg, #1e3c72, #2a5298);
        color: white;
        padding: 10px;
        border-radius: 10px;
        margin-bottom: 30px;
        position: relative;
        overflow: hidden;
      }

      .screen::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        animation: shine 3s infinite;
      }

      @keyframes shine {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      .seats-container {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
      }

      .seat {
        width: 40px;
        height: 40px;
        background: #28a745;
        border-radius: 8px 8px 12px 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        position: relative;
        animation: seatGlow 2s infinite alternate;
      }

      @keyframes seatGlow {
        0% {
          box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
        }
        100% {
          box-shadow: 0 0 20px rgba(40, 167, 69, 0.8);
        }
      }

      .seat::before {
        content: "";
        position: absolute;
        top: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 30px;
        height: 5px;
        background: #1e7e34;
        border-radius: 3px;
      }

      .payment-summary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
      }

      .payment-title {
        font-size: 1.3rem;
        font-weight: 600;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .payment-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        padding: 5px 0;
      }

      .payment-total {
        border-top: 2px solid rgba(255, 255, 255, 0.3);
        padding-top: 15px;
        margin-top: 15px;
        font-size: 1.2rem;
        font-weight: 700;
      }

      .status-badge {
        display: inline-block;
        padding: 10px 20px;
        border-radius: 25px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 20px;
      }

      .status-confirmed {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
      }

      .status-pending {
        background: linear-gradient(45deg, #ffc107, #fd7e14);
        color: white;
      }

      .qr-section {
        text-align: center;
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
      }

      .qr-code {
        width: 150px;
        height: 150px;
        background: white;
        border: 2px dashed #ccc;
        border-radius: 10px;
        margin: 0 auto 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        color: #ccc;
      }

      .actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn-primary {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
      }

      .btn-secondary {
        background: white;
        color: #667eea;
        border: 2px solid #667eea;
      }

      .btn-danger {
        background: linear-gradient(45deg, #dc3545, #c82333);
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      @media (max-width: 768px) {
        .container {
          margin: 10px;
          border-radius: 15px;
        }

        .ticket-content {
          padding: 20px;
        }

        .movie-section {
          flex-direction: column;
          align-items: center;
          text-align: center;
        }

        .movie-poster {
          width: 150px;
          height: 210px;
        }

        .movie-title {
          font-size: 1.8rem;
        }

        .details-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .actions {
          flex-direction: column;
        }

        .btn {
          justify-content: center;
        }
      }

      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #28a745;
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        transform: translateX(100%);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .notification.show {
        transform: translateX(0);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <a href="taikhoan.html" class="back-btn">
          <i class="fas fa-arrow-left"></i>
          Quay lại
        </a>
        <h1>Chi Tiết Vé Đã Đặt</h1>
        <div class="booking-id">Mã đặt vé: #BK001234567</div>
      </div>

      <div class="ticket-content">
        <!-- Movie Information -->
        <div class="movie-section">
          <img
            src="/images/johnwick_ballerina.jpg"
            alt="Avengers: Endgame"
            class="movie-poster"
          />
          <div class="movie-info">
            <h2 class="movie-title">Avengers: Endgame</h2>
            <span class="movie-genre">Hành động • Khoa học viễn tưởng</span>
            <div class="movie-rating">
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
              </div>
              <span class="rating-text">4.5/5 (2,847 đánh giá)</span>
            </div>
            <p class="movie-description">
              Sau những sự kiện tàn khốc của Avengers: Infinity War, vũ trụ đang
              trong tình trạng hỗn loạn. Với sự trợ giúp của các đồng minh còn
              lại, các Avengers phải tập hợp một lần nữa để hoàn tác những hành
              động của Thanos và khôi phục trật tự vũ trụ.
            </p>
          </div>
        </div>

        <!-- Booking Status -->
        <div style="text-align: center">
          <span class="status-badge status-confirmed">
            <i class="fas fa-check-circle"></i> Đã xác nhận
          </span>
        </div>

        <!-- Booking Details -->
        <div class="details-grid">
          <div class="detail-card">
            <div class="detail-title">
              <i class="fas fa-calendar-alt"></i>
              Thông tin suất chiếu
            </div>
            <div class="detail-item">
              <span class="detail-label">Ngày chiếu:</span>
              <span class="detail-value">Thứ 7, 15/06/2024</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Giờ chiếu:</span>
              <span class="detail-value">19:30</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Thời lượng:</span>
              <span class="detail-value">181 phút</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Phòng chiếu:</span>
              <span class="detail-value">Phòng 3 - IMAX</span>
            </div>
          </div>

          <div class="detail-card">
            <div class="detail-title">
              <i class="fas fa-map-marker-alt"></i>
              Thông tin rạp
            </div>
            <div class="detail-item">
              <span class="detail-label">Rạp chiếu:</span>
              <span class="detail-value">CGV Vincom Center</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Địa chỉ:</span>
              <span class="detail-value">72 Lê Thánh Tôn, Q.1, TP.HCM</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Điện thoại:</span>
              <span class="detail-value">1900-6017</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Định dạng:</span>
              <span class="detail-value">IMAX 3D</span>
            </div>
          </div>
        </div>

        <!-- Seats Information -->
        <div class="seats-visual">
          <div class="detail-title" style="margin-bottom: 20px">
            <i class="fas fa-chair"></i>
            Thông tin ghế ngồi
          </div>
          <div class="screen">MÀN HÌNH</div>
          <div class="seats-container">
            <div class="seat">A1</div>
            <div class="seat">A2</div>
          </div>
          <p style="margin-top: 15px; color: #666; font-style: italic">
            Ghế VIP - Hàng A (Gần màn hình)
          </p>
        </div>

        <!-- Payment Summary -->
        <div class="payment-summary">
          <div class="payment-title">
            <i class="fas fa-receipt"></i>
            Chi tiết thanh toán
          </div>
          <div class="payment-item">
            <span>Vé IMAX 3D x2:</span>
            <span>180,000 VNĐ</span>
          </div>
          <div class="payment-item">
            <span>Phụ phí VIP:</span>
            <span>20,000 VNĐ</span>
          </div>
          <div class="payment-item">
            <span>Phí đặt vé online:</span>
            <span>0 VNĐ</span>
          </div>
          <div class="payment-item payment-total">
            <span>Tổng cộng:</span>
            <span>200,000 VNĐ</span>
          </div>
          <div
            class="payment-item"
            style="
              border-top: none;
              margin-top: 10px;
              font-size: 0.9rem;
              opacity: 0.9;
            "
          >
            <span>Phương thức:</span>
            <span>Ví MoMo</span>
          </div>
          <div
            class="payment-item"
            style="
              border-top: none;
              margin-top: 5px;
              font-size: 0.9rem;
              opacity: 0.9;
            "
          >
            <span>Thời gian thanh toán:</span>
            <span>14/06/2024 14:25</span>
          </div>
        </div>

        <!-- QR Code -->
        <div class="qr-section">
          <div class="detail-title" style="margin-bottom: 20px">
            <i class="fas fa-qrcode"></i>
            Mã QR check-in
          </div>
          <div class="qr-code">
            <i class="fas fa-qrcode"></i>
          </div>
          <p style="color: #666; font-size: 0.9rem">
            Xuất trình mã QR này tại quầy để nhận vé
          </p>
        </div>

        <!-- Action Buttons -->
        <div class="actions">
          <button class="btn btn-primary" onclick="downloadTicket()">
            <i class="fas fa-download"></i>
            Tải vé PDF
          </button>
          <button class="btn btn-secondary" onclick="shareTicket()">
            <i class="fas fa-share-alt"></i>
            Chia sẻ
          </button>
          <button class="btn btn-secondary" onclick="addToCalendar()">
            <i class="fas fa-calendar-plus"></i>
            Thêm vào lịch
          </button>
          <button class="btn btn-danger" onclick="cancelTicket()">
            <i class="fas fa-times"></i>
            Hủy vé
          </button>
        </div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
      <span id="notificationText"></span>
    </div>

    <script>
      // Show notification
      function showNotification(message, type = "success") {
        const notification = document.getElementById("notification");
        const notificationText = document.getElementById("notificationText");

        notificationText.textContent = message;
        notification.className = `notification ${type}`;
        notification.classList.add("show");

        setTimeout(() => {
          notification.classList.remove("show");
        }, 3000);
      }

      // Download ticket
      function downloadTicket() {
        showNotification("Đang tải vé PDF...");
        // Simulate download
        setTimeout(() => {
          showNotification("Vé đã được tải thành công!");
        }, 2000);
      }

      // Share ticket
      function shareTicket() {
        if (navigator.share) {
          navigator.share({
            title: "Vé xem phim Avengers: Endgame",
            text: "Tôi vừa đặt vé xem phim Avengers: Endgame tại CGV Vincom Center",
            url: window.location.href,
          });
        } else {
          // Fallback for browsers that don't support Web Share API
          navigator.clipboard.writeText(window.location.href).then(() => {
            showNotification("Đã sao chép link vé vào clipboard!");
          });
        }
      }

      // Add to calendar
      function addToCalendar() {
        const eventDetails = {
          title: "Xem phim: Avengers: Endgame",
          start: "20240615T193000",
          end: "20240615T223000",
          description:
            "Xem phim tại CGV Vincom Center - Phòng 3 IMAX - Ghế A1, A2",
          location: "CGV Vincom Center, 72 Lê Thánh Tôn, Q.1, TP.HCM",
        };

        const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(
          eventDetails.title
        )}&dates=${eventDetails.start}/${
          eventDetails.end
        }&details=${encodeURIComponent(
          eventDetails.description
        )}&location=${encodeURIComponent(eventDetails.location)}`;

        window.open(googleCalendarUrl, "_blank");
        showNotification("Đã mở Google Calendar để thêm sự kiện!");
      }

      // Cancel ticket
      function cancelTicket() {
        if (
          confirm(
            "Bạn có chắc chắn muốn hủy vé này không? Hành động này không thể hoàn tác."
          )
        ) {
          showNotification("Đang xử lý yêu cầu hủy vé...", "warning");
          // Simulate cancellation process
          setTimeout(() => {
            showNotification(
              "Vé đã được hủy thành công. Tiền sẽ được hoàn trả trong 3-5 ngày làm việc.",
              "success"
            );
            // Update status
            setTimeout(() => {
              window.location.href = "/html/taikhoan.html";
            }, 2000);
          }, 3000);
        }
      }

      // Add some interactive effects
      document.addEventListener("DOMContentLoaded", function () {
        // Animate cards on scroll
        const cards = document.querySelectorAll(".detail-card");
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.transform = "translateY(0)";
              entry.target.style.opacity = "1";
            }
          });
        });

        cards.forEach((card) => {
          card.style.transform = "translateY(20px)";
          card.style.opacity = "0";
          card.style.transition = "all 0.6s ease";
          observer.observe(card);
        });
      });
    </script>
  </body>
</html>
